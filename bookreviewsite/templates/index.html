{% extends "layout/base.html" %}
{% block title %}All Books{% endblock %}
{% block content %}
<h2>Books</h2>

<form method="get" class="mb-4">
    <label for="rating" class="form-label">Filter Reviews By Rating:</label>
    <select name="rating" class="form-select w-25 d-inline">
        <option value="">All</option>
        {% for i in range(1, 6) %}
       <option value="{{ i }}" {% if rating_filter|int == i %}selected{% endif %}>{{ i }} Stars</option>

        {% endfor %}
    </select>
    <button class="btn btn-outline-secondary">Filter</button>
</form>

<div class="row">
    {% for book in books %}
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm">
            <img src="{{ url_for('static', filename='covers/' + book.cover) }}" class="card-img-top" style="height: 300px; object-fit: cover;">
            <div class="card-body">
                <h5 class="card-title">{{ book.title }}</h5>
                <p>{{ book.filtered_reviews | length }} Reviews</p>
                <a href="{{ url_for('book_detail', book_id=book.id) }}" class="btn btn-primary">Details</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
